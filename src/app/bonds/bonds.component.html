<!-- HEADER -->
<div class="header pt-4">
  <div class="container-fluid">

    <!-- Body -->
    <div class="header-body border-0 p-0">
      <div class="row align-items-end">
        <div class="col">
          <h1 class="mb-2">Purchase floating-rate bonds.
            Earn MPH rewards.</h1>
          <p class="text-muted font-weight-bold">
            Example: Chad purchases a floating-rate bond and fills up a debt of 5 tokens caused by Kevin's 1-year
            deposit
            of 100 tokens, to which a 5% fixed-rate interest was offered. Chad will earn floating-rate interest on 105
            tokens
            until
            Kevin withdraws his assets.
          </p>
          <p class="text-muted font-weight-bold mb-5">
            Because the fixed rate 88mph offers is 75% of the initial floating rate,
            Chad will be in profit as long as the floating rate doesn't drop by >25%, and his profit increases when the
            floating rate does. Chad is effectively longing the floating rate.
            <a class="text-purple" href="https://88mph.app/docs/" target="_blank" rel="noopener noreferrer">
              See how it works
            </a>
          </p>
          <div class="card-deck mt-4 mb-3">
            <div class="card mb-4 mb-lg-0">
              <div class="card-body pt-0">
                <!-- Title -->
                <h5 class="text-uppercase text-amber mt-n3 bg-dark pl-3">
                  You paid
                  <button type="button" class="btn btn-sm btn-link p-0 text-white" placement="top"
                    ngbTooltip="The amount of debt your active bonds have funded.">
                    [i]
                  </button>
                </h5>

                <!-- Heading -->
                <h2 class="mb-0 glowing pl-3">
                  ${{totalDeficitFundedUSD.toFormat(4)}}
                </h2>
              </div>
            </div>
            <div class="card mb-4 mb-lg-0">
              <div class="card-body pt-0">
                <!-- Title -->
                <h5 class="text-uppercase text-amber mt-n3 bg-dark pl-3">
                  You earn on
                  <button type="button" class="btn btn-sm btn-link p-0 text-white" placement="top"
                    ngbTooltip="The amount of deposits you're earning interest on.">
                    [i]
                  </button>
                </h5>

                <!-- Heading -->
                <h2 class="mb-1 glowing pl-3">
                  ${{totalCurrentDepositUSD.toFormat(4)}}
                </h2>
              </div>
            </div>
            <div class="card mb-4 mb-lg-0">
              <div class="card-body pt-0">
                <!-- Title -->
                <h5 class="text-uppercase text-amber mt-n3 bg-dark pl-3">
                  Interest paid out
                  <button type="button" class="btn btn-sm btn-link p-0 text-white" placement="top"
                    ngbTooltip="The amount of interests you have earned so far from your active bonds. Interests will be automatically sent to your wallet when the depositors withdraw their deposits.">
                    [i]
                  </button>
                </h5>

                <!-- Heading -->
                <h2 class="mb-1 glowing pl-3">
                  ${{totalInterestUSD.toFormat(4)}}
                </h2>
                <h5 class="mb-0 text-white pl-3 d-none">Est. ROI 0.00%</h5>
              </div>
            </div>

            <div class="card mb-4 mb-lg-0">
              <div class="card-body pt-0">
                <!-- Title -->
                <h5 class="text-uppercase text-amber mt-n3 bg-dark pl-3">
                  MPH earned
                  <button type="button" class="btn btn-sm btn-link p-0 text-white" placement="top"
                    ngbTooltip="Bond buyers earn MPH tokens that can be staked to earn rewards (protocol fees, harvested incentives, etc)">
                    [i]
                  </button>
                </h5>

                <!-- Heading -->
                <h2 class="mb-1 glowing pl-3">
                  {{totalMPHEarned.toFormat(4)}} MPH
                </h2>
                <h5 class="mb-0 text-white pl-3 d-none">$0.00</h5>
              </div>
            </div>
          </div>
        </div>
      </div> <!-- / .row -->
    </div> <!-- / .header-body -->

  </div>
</div> <!-- / .header -->

<!-- CARDS -->
<div class="container-fluid mb-6">
  <div class="row">
    <div class="col-12">
      <!-- Current deposits -->
      <div class="card mb-6" *ngIf="funderPools.length">
        <h2 class="mt-n3 bg-dark mb-0 mx-3 pl-3">Active bonds</h2>
        <div class="table-responsive mb-0">
          <table class="table table-sm table-nowrap card-table">
            <thead>
              <tr>
                <th></th>
                <th class="text-white">
                  Amount paid
                  <button type="button" class="btn btn-sm btn-link p-0 text-white" placement="top"
                    ngbTooltip="The amount of debt your bond have funded.">
                    [i]
                  </button>
                </th>
                <th class="text-white">
                  You earn interest on
                  <button type="button" class="btn btn-sm btn-link p-0 text-white" placement="top"
                    ngbTooltip="The amount of deposits you're earning interest on.">
                    [i]
                  </button>
                </th>
                <th class="text-white">
                  Interest paid out
                  <button type="button" class="btn btn-sm btn-link p-0 text-white" placement="top"
                    ngbTooltip="The amount of interests you have earned so far from your bond. Interests will be automatically sent to your wallet when the depositors withdraw their deposits.">
                    [i]
                  </button>
                </th>
                <th class="text-dark">
                  MPH rewards
                  <button type="button" class="btn btn-sm btn-link p-0 text-white" placement="top"
                    ngbTooltip="Bond buyers earn upfront MPH tokens that can be staked to earn rewards (protocol fees, harvested incentives, etc)">
                    [i]
                  </button>
                </th>
              </tr>
            </thead>
            <tbody class="list">
              <ng-container *ngFor="let funderPool of funderPools">
                <tr>
                  <td>
                    <div class="d-flex align-items-center">

                      <!-- Image -->
                      <div class="avatar avatar-xs">
                        <img class="avatar-img rounded-circle mr-3" src={{funderPool.poolInfo.iconPath}} alt="...">
                      </div>

                      <div class="ml-3">

                        <!-- Heading -->
                        <h4 class="font-weight-normal mb-1">{{funderPool.poolInfo.name}}</h4>

                        <!-- Text -->
                        <small class="text-muted">{{funderPool.poolInfo.protocol}}</small>

                      </div>
                    </div>
                  </td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>

                <ng-container *ngFor="let funding of funderPool.fundings">
                  <tr>
                    <td>
                      <div class="d-flex align-items-center">

                        <!-- Image -->
                        <h4 class="mb-0">#{{funding.nftID}}</h4>

                      </div>

                    </td>
                    <td>
                      <h4 class="mb-1 font-weight-normal glowing">${{funding.deficitUSD.toFormat(4)}}</h4>
                      <span class="text-white">{{funding.deficitToken.toFormat(4)}}
                        {{funderPool.poolInfo.stablecoinSymbol}}</span>
                    </td>
                    <td>
                      <h4 class="mb-1 font-weight-normal glowing">${{funding.currentDepositUSD.toFormat(4)}}</h4>
                      <span class="text-white">{{funding.currentDepositToken.toFormat(4)}}
                        {{funderPool.poolInfo.stablecoinSymbol}}</span>
                    </td>
                    <td>
                      <h4 class="mb-1 font-weight-normal glowing">${{funding.interestEarnedUSD.toFormat(4)}}</h4>
                      <span class="text-white">{{funding.interestEarnedToken.toFormat(4)}}
                        {{funderPool.poolInfo.stablecoinSymbol}}</span>
                    </td>
                    <td>
                      <h4 class="mb-1 font-weight-normal glowing">{{funding.mintMPHAmount.toFormat(4)}} MPH</h4>
                    </td>
                  </tr>
                </ng-container>
              </ng-container>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Deficit funding opportunities -->
      <div class="card">
        <h2 class="mt-n3 bg-dark mb-4 mx-3 pl-3">Buy floating-rate bonds</h2>
        <div class="card-header pb-6 pb-lg-5">
          <div class="row justify-content-between">
            <div class="col-auto mb-3 mb-lg-0 pt-4 pt-lg-0">
              <select class="custom-select" data-toggle="select" (change)="selectPool($event.target.value)">
                <option value={{pool.name}} *ngFor="let pool of allPoolList">
                  {{pool.name}}
                </option>
              </select>
            </div>
            <div class="col-auto d-flex align-items-center">
              <h4 class="card-header-title">
                Avg variable APY prediction: <strong>5.3%</strong>
              </h4>
            </div>
          </div>
        </div>
        <div class="card-body p-0">
          <div class="px-0 pb-2 mt-n3">
            <input type="range" class="custom-range" min="0" max="100" step="0.1">
            <div class="row justify-content-between text-white px-4">
              <div class="col">
                <small>0%</small>
              </div>
              <div class="col text-center">
                <small>5.3% (current pool APY)</small>
              </div>
              <div class="col text-right">
                <small>10.0%</small>
              </div>
            </div>
          </div>

          <div class="row p-4">
            <div class="col-12 col-lg-6">
              <form>
                <div class="form-group">
                  <label for="exampleInputEmail1">Number of deposits to fund</label>
                  <select class="form-control mb-2" id="exampleFormControlSelect1">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                  </select>
                  <small id="customDeficitSelectHelp" class="form-text text-muted">Up to 20 deposits</small>
                </div>
                <div class="form-group">
                  <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="exampleCheck1">
                    <label class="form-check-label" for="exampleCheck1">All pool deposits</label>
                  </div>
                </div>

                <button class="card-link small px-1" type="submit">
                  Continue
                </button>
              </form>
            </div>
            <div class="col-12 col-lg-6">
              <h5 class="text-uppercase text-white">
                Estimated ROI
              </h5>
              <h2 class="display-2 mb-4 glowing">
                0.00%
              </h2>
              <div class="row mb-4">
                <div class="col-auto">
                  <h5 class="text-uppercase text-white">
                    You pay
                  </h5>
                  <h2 class="mb-1 glowing">
                    $0.0000
                  </h2>
                  <h5 class="mb-3 text-white">0.0000 tokens</h5>
                </div>
                <div class="col-auto">
                  <h5 class="text-uppercase text-white">
                    You earn interest on
                  </h5>
                  <h2 class="mb-1 glowing">
                    $0.0000
                  </h2>
                  <h5 class="mb-3 text-white">0.0000 tokens</h5>
                </div>
              </div>
              <div class="row">
                <div class="col-auto">
                  <h5 class="text-uppercase text-white">
                    MPH rewards
                    <button type="button" class="btn btn-sm btn-link p-0 text-white" placement="top"
                      ngbTooltip="Deficit funders get rewarded with upfront MPH tokens that can be staked to earn rewards (protocol fees, harvested incentives, etc)">
                      [i]
                    </button>
                  </h5>
                  <h2 class="mb-1 glowing">
                    $0.0000
                  </h2>
                  <h5 class="mb-3 text-white">0.0000 tokens</h5>
                </div>
                <div class="col-auto">
                  <h5 class="text-uppercase text-white">
                    MPH APY
                    <button type="button" class="btn btn-sm btn-link p-0 text-white" placement="top"
                      ngbTooltip="MPH LP rewards annualized and compounded based on the last week">
                      [i]
                    </button>
                  </h5>
                  <h2 class="mb-1 glowing">
                    $0.0000
                  </h2>
                  <h5 class="mb-3 text-white">0.0000 tokens</h5>
                </div>
              </div>
            </div>
          </div>

        </div>

      </div>

    </div>
  </div> <!-- / .row -->
</div>